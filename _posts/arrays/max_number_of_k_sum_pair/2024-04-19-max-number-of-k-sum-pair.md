---
layout: post
title: "Максимальное количество пар K-суммы"
complexity: medium
original_url: https://leetcode.com/problems/max-number-of-k-sum-pairs/
tag: medium
---

## Оглавление

- [Описание задачи](#описание-задачи)
- [Ограничения](#ограничения)
- [Примеры](#примеры)
- [Решение](#решение)

---

## Описание задачи

Вам дан целочисленный массив `nums` и целое число `k`.

За одну операцию вы можете выбрать из массива два числа, сумма которых равна `k`, и удалить их из массива.

Верните максимальное количество операций, которые вы можете выполнить с массивом.

---

## Ограничения

- Длина массива находится в диапазоне от 1 до 10<sup>5</sup>
- Каждый элемент массива может принимать значение в диапазоне от 1 до 10<sup>9</sup>
- `k` находится в диапазоне от 1 до 10<sup>9</sup>

---

## Примеры

{% tabs max-number-of-k-sum-pair %}

{% tab max-number-of-k-sum-pair Пример №1 %}
**Входные данные**: `nums = [1,2,3,4], k = 5`

**Ответ**: `2`

**Пояснение**: Вы можете удалить две пары чисел: (1,4) и (2,3), сумма которых равна `5`.
{% endtab %}

{% tab max-number-of-k-sum-pair Пример №2 %}
**Входные данные**: `nums = [3,1,3,4,3], k = 6`

**Ответ**: `1`

**Пояснение**: Вы можете удалить одну пару чисел: (3,3), сумма которых равна `6`.
{% endtab %}
{% endtabs %}

---

## Решение

Для решения задачи мы создадим хеш-таблицу `digits`, которая будет хранить частоту каждого числа из массива.

Запускаем цикл по всем элементам массива и для каждого числа рассчитываем разность `diff` между `k` и текущим числом `num`.

Если в объекте `digits` уже есть запись для `diff`, это означает, что ранее было найдено число, которое в сумме с текущим числом num даст `k`.
Если это так, то уменьшаем количество доступных чисел `diff` на единицу, и счетчик пар `res` увеличивается на один, так как найдена новая пара.

Если же такого числа нет, то текущее число `num` добавляется в `digits`, увеличивая счетчик количества этого числа на
единицу, чтобы в будущем его можно было использовать для создания пары с другим числом.

Таким образом, функция последовательно проверяет каждое число из массива, пытаясь сформировать пары, и возвращает общее
количество найденных пар, которые в сумме дают число `k`.

### Реализация

{% include code-example.md go_path="go/solution.go" ts_path="ts/solution.ts" %}

### Оценка сложности

**По времени**

Сложность `O(n)`, так как мы итерируемся по всем элементам массива.

**По памяти**

Сложность `O(n)`, так как создается хеш-таблица для хранения частот.

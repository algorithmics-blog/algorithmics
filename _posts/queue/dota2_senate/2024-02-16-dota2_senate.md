---
layout: post
title:  "Сенат Dota2"
complexity: medium
original_url: https://leetcode.com/problems/dota2-senate/description/
tag: medium
---

## Оглавление

- [Описание задачи](#описание-задачи)
- [Ограничения](#ограничения)
- [Примеры](#примеры)
- [Решение](#решение)

---

## Описание задачи

В мире Dota2 существует 2 партии `Radiant` и `Dire`.
Для того чтобы внести изменение в игру Dota2 необходимо провести голосование сената, каждый член которого принадлежит одной из двух партий.

Голосование идет раундами, в каждом раунде по очереди опрашивается каждый сенатор.
Сенатор может выполнить одно из двух действий:
- лишить следующего сенатора из противоположной партии права голоса;
- объявить победу своей партии, если не осталось сенаторов с правом голоса из противоположной партии.
Раунд начинается с крайнего левого сенатора.

Напишите функцию, которая будет рассчитывать результаты голосования сената.


**Входные данные**

Строка, описывающая последовательность голосующих сенаторов и их принадлежность к партиям.

**Выходные данные**

Строка с названием победившей партии (`Radiant` или `Dire`).

---

## Ограничения

- Количество сенаторов (длина входящей строки) находится в диапазоне от 1 до 10000
- Входящая строка состоит из символов `R` и `D`

---

## Примеры

{% tabs dota2_senate %}

{% tab dota2_senate Пример №1 %}
**Входные данные**: `RD`

**Ответ**: `Radiant`

**Пояснение**: В первом раунде первый сенатор из партии `Radiant` лишает права голоса сенатора из `Dire`.
На этом раунд заканчивается, так как не осталось сенаторов с правом голоса.
Во втором раунде сенатор из партии `Radiant` объявляет победу своей партии.
{% endtab %}

{% tab dota2_senate Пример №2 %}
**Входные данные**: `RDD`

**Ответ**: `Dire`

**Пояснение**: В первом раунде сентаор из `Radiant` лишает одного из сенаторов `Dire` права голоса.
Второй сенатор из `Dire` лишает права голоса сенатора из `Radiant` и в следующем раунде объявляет победу своей партии.
{% endtab %}
{% endtabs %}

---

## Решение

На первый взгляд задача может решиться простым сравнением количества сенаторов из каждой партии.
На самом деле такое решение будет не верно, так как не учитывает порядок голосования.

Давайте рассмотрим на простом примере: `RDRDRDRDRDDD`.
В данном примере 5 сенаторов в партии `Radiant` и 7 в `Dire`. 
Давайте разберем по шагам данный пример (символом `_` будем отмечать сенаторов лишенных права голоса).

- Очевидно, что для выигрышной стратегии каждый сенатор из `Radiant` будет лишать голоса следующего за ним сенатора из `Dire`.
Таким образом, учитывая очередность голосования, в первом раунде 5 первых подряд проголосовавших сенатора будут из `Radiant`.
После их голосования картина будет выглядеть следующим образом: `R_R_R_R_R_DD`.
- Таким образом, голосовать в первом раунде смогут только 2 сенатора из `Dire`.
Финальный исход первого раунда будет следующим: `____R_R_R_DD`
- Во втором раунде голосовать снова начнут сенаторы из `Radiant`.
Первые два сенатора лишат голосов двух оставшихся сенаторов из `Dire`, третий сможет объявить победу своей партии.
Финальный исход первого раунда будет следующим: `____R_R_R___`.

Таким образом, несмотря на количественное преимущество партии `Dire`, победу одержала `Radiant`.

На самом деле,в решении данной задачи нам поможет одна из базовых структур данных - очередь.
В качестве очереди мы будем использовать массив.
В данном случае можно забыть про то, что голосование проходит по раундам и представить весь процесс как непрерывный цикл.

Изначально мы помещаем всех сенаторов в очередь в соответствии с их порядком и подсчитываем общее количество представителей каждой из партий.

Далее, пока в очереди присутствуют представители обеих партий мы запускаем наш непрерывный цикл.
- Сохраняем принадлежность сенатора, стоящего во главе очереди в переменную `firstElem`.
- Вводим дополнительный счетчик `killCount`.
В этом счетчике мы будем накапливать кол-во сенаторов, которых смогут лишить права голоса представители партии `firstElem` до момента, пока права голоса не перейдет к представителям противоположной партии. 
- Начинаем извлекать из очереди сенаторов:
  - Если сенатор принадлежит к той же партии, что и `firstElem`, тогда увеличиваем счетчик `killCount` и помещаем сенатор в конец очереди.
  - Если сенатор принадлежит к противоположной партии - уменьшаем счетчик `killCount` и пропускаем (НЕ возвращаем в очередь) сенатора.
  - Если `killCount` становится равным 0, значит сенаторы из партии `firstElem` не могут лишить права голоса следующего сенатора - в `firstElem` помещается партия следующего на очереди сенатора и подсчет начинается с начала до тех пор, пока в очереди есть представители обеих партий.

{% include code-example.md go_path="go/solution.go" ts_path="ts/solution.ts" %}

### Оценка сложности

**По времени**

Сложность `O(n)`, где `n` — длина строки.

**По памяти**

Сложность `O(n)`, так как нам пришлось создать очередь для хранения данных.
